<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="ta_bundle_package_tree" model="ir.ui.view">
        <field name="name">ta.bundle.package.tree</field>
        <field name="model">bundle.package</field>
        <field name="arch" type="xml">
            <tree string="Bundle Package Tree">
                <field name="name"/>
                <field name="product_id"/>
                <field name="date"/>
                <field name="ref"/>
            </tree>
        </field>
    </record>

    <record id="ta_bundle_package_form" model="ir.ui.view">
        <field name="name">ta.bundle.package.form</field>
        <field name="model">bundle.package</field>
        <field name="arch" type="xml">
            <form string="Bundle Package">
                <header>
                    <button name="action_confirm" string="Confirm" type="object" class="btn-primary" attrs="{'invisible': [('state', 'not in', 'draft')]}"/>
                    <button name="action_cancel" string="Cancel" type="object" attrs="{'invisible': [('state', 'not in', 'confirm')]}"/>
                    <button name="action_reset" string="Reset" type="object" attrs="{'invisible': [('state', 'not in', 'cancel')]}"/>
                    <button name="fetch_values_sale_order" string="Fetch Values" type="object" attrs="{'invisible': [('state', 'not in', 'draft')]}"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirm" readonly="1"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    <group name="bundle_package_header">
                        <group>
                            <field name="product_id" string="Product" required="1" options="{'no_quick_create':True}" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="product_quantity" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="required_bundle_size" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                        </group>
                        <group>
                            <field name="date" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="product_color" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="product_sizes" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="ref" string="Ref." required="1" readonly="0" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                        </group>
                    </group>
                    <label for="bundle_package_line_ids"><h5>Bundle Package Lines:</h5></label>
                    <field name="bundle_package_line_ids" attrs="{'readonly': [('state', '!=', 'draft')]}">
                        <tree editable="bottom" create="1" edit="1" class="custom_class">
                            <field name="name" readonly="1" optional="show"/>
                            <field name="product_id" optional="hide" options="{'no_quick_create':True}"/>
                            <field name="product_size"/>
                            <field name="description"/>
                            <field name="product_qty"/>
                            <field name="bundle_contains_qty" optional="hide"/>
                            <field name="bundle_count"/>
                            <field name="parent_id" optional="hide" readonly="1"/>
                            <field name="parent_date" optional="hide" readonly="1"/>
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_bundle_package" model="ir.actions.act_window">
        <field name="name">Bundle Package</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">bundle.package</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your brand here!
            </p>
        </field>
    </record>

    <menuitem
        id="ta_hrm_bundles_package"
        name="Bundle Package" action="action_bundle_package"
        parent="mrp.menu_mrp_manufacturing"/>
</odoo>